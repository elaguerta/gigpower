============================= test session starts ==============================
platform darwin -- Python 3.7.4, pytest-6.0.1, py-1.9.0, pluggy-0.13.1
rootdir: /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/fbs
collected 1 item

fbs/tests/test_compare_opendss.py 

Testing File: fbs/tests/IEEE_13_bus/IEEE_13_Bus_allwye.dss

Opendss Iterations: 5	Opendss Convergence: 0.0001
OpenDSS Loads after solving, from dss.CktElement.Powers():
[573.3239120624032, 75.5205487461502, 68.95921783545916, -161.12784709327144, 375.5514884583057, 105.54289066318663, -573.3239061052059, -75.5205487461502, -68.95921735390412, 161.12784709327147, -375.5514855682394, -105.54289066318661]
FBS iterations: 7	 FBS convergence:4.855914716424339e-07	 FBS tolerance: 1e-06


COMPARE V
Max |diff|:
A.(fbs - dss)   0.0290
B.(fbs - dss)   0.0188
C.(fbs - dss)   0.0228
dtype: float64
           A.(fbs - dss)   B.(fbs - dss)   C.(fbs - dss)
sourcebus 0.0000+0.0002j  0.0001-0.0001j -0.0002-0.0000j
650       0.0001+0.0002j  0.0001-0.0001j -0.0002-0.0000j
rg60      0.0002+0.0003j  0.0001-0.0002j -0.0004+0.0000j
633       0.0017+0.0014j  0.0014+0.0013j -0.0003+0.0024j
634       0.0264+0.0119j -0.0012-0.0187j -0.0167+0.0155j
671       0.0027+0.0024j  0.0028+0.0029j -0.0001+0.0045j
645       0.0000+0.0000j  0.0014+0.0014j -0.0003+0.0024j
646       0.0000+0.0000j  0.0014+0.0014j -0.0003+0.0024j
692       0.0027+0.0024j  0.0028+0.0029j -0.0001+0.0045j
675       0.0030+0.0023j  0.0032+0.0029j  0.0001+0.0047j
611       0.0000+0.0000j  0.0000+0.0000j -0.0000+0.0049j
652       0.0027+0.0024j  0.0000+0.0000j -0.0000+0.0000j
670       0.0020+0.0017j  0.0019+0.0019j -0.0002+0.0031j
632       0.0016+0.0014j  0.0015+0.0014j -0.0003+0.0024j
680       0.0027+0.0024j  0.0028+0.0029j -0.0001+0.0045j
684       0.0027+0.0025j  0.0000+0.0000j -0.0001+0.0047j 

FBS results
                       A               B               C
sourcebus 1.0000+0.0000j -0.5000-0.8660j -0.5000+0.8660j
650       1.0000+0.0000j -0.5000-0.8660j -0.5000+0.8660j
rg60      1.0563+0.0000j -0.5219-0.9039j -0.5281+0.9147j
633       1.0150-0.0483j -0.5378-0.8800j -0.4634+0.8867j
634       1.0150-0.0483j -0.5378-0.8800j -0.4634+0.8867j
671       0.9839-0.0999j -0.5534-0.8895j -0.4200+0.8627j
645       0.0000+0.0000j -0.5336-0.8727j -0.4619+0.8887j
646       0.0000+0.0000j -0.5324-0.8707j -0.4603+0.8875j
692       0.9839-0.0999j -0.5534-0.8895j -0.4200+0.8627j
675       0.9772-0.1036j -0.5570-0.8898j -0.4191+0.8610j
611       0.0000+0.0000j  0.0000+0.0000j -0.4141+0.8610j
652       0.9762-0.0981j  0.0000+0.0000j -0.0000+0.0000j
670       1.0071-0.0648j -0.5428-0.8838j -0.4479+0.8798j
632       1.0180-0.0473j -0.5381-0.8821j -0.4647+0.8890j
680       0.9839-0.0999j -0.5534-0.8895j -0.4200+0.8627j
684       0.9818-0.1001j  0.0000+0.0000j -0.4174+0.8617j 

DSS results
                       A               B               C
sourcebus 1.0000-0.0002j -0.5001-0.8660j -0.4998+0.8661j
650       0.9999-0.0002j -0.5001-0.8659j -0.4998+0.8661j
rg60      1.0560-0.0003j -0.5220-0.9037j -0.5278+0.9147j
633       1.0133-0.0497j -0.5393-0.8814j -0.4631+0.8843j
634       0.9886-0.0603j -0.5366-0.8613j -0.4467+0.8712j
671       0.9811-0.1023j -0.5562-0.8925j -0.4199+0.8582j
645       0.0000+0.0000j -0.5350-0.8741j -0.4616+0.8864j
646       0.0000+0.0000j -0.5338-0.8721j -0.4599+0.8852j
692       0.9811-0.1023j -0.5562-0.8925j -0.4199+0.8582j
675       0.9742-0.1059j -0.5602-0.8927j -0.4193+0.8563j
611       0.0000+0.0000j  0.0000+0.0000j -0.4141+0.8561j
652       0.9735-0.1006j  0.0000+0.0000j  0.0000+0.0000j
670       1.0051-0.0666j -0.5447-0.8857j -0.4477+0.8767j
632       1.0164-0.0487j -0.5396-0.8834j -0.4644+0.8866j
680       0.9811-0.1023j -0.5562-0.8925j -0.4199+0.8582j
684       0.9791-0.1025j  0.0000+0.0000j -0.4173+0.8570j


COMPARE I
Max |diff|:
A.(fbs - dss)   0.0175
B.(fbs - dss)   0.0200
C.(fbs - dss)   0.0318
dtype: float64
               A.(fbs - dss)   B.(fbs - dss)   C.(fbs - dss)
line_632_633 -0.0024+0.0051j  0.0027-0.0003j -0.0017-0.0030j
line_632_645  0.0000+0.0000j -0.0005-0.0004j  0.0001-0.0003j
line_632_670 -0.0008+0.0121j -0.0170+0.0105j -0.0230-0.0169j
line_645_646  0.0000+0.0000j -0.0002-0.0002j  0.0001-0.0003j
line_650_632 -0.0031+0.0172j -0.0148+0.0098j -0.0246-0.0202j
line_670_671 -0.0008+0.0121j -0.0168+0.0106j -0.0232-0.0165j
line_671_680 -0.0000-0.0000j -0.0000+0.0000j  0.0000+0.0000j
line_671_684 -0.0001+0.0005j  0.0000+0.0000j -0.0081-0.0048j
line_671_692 -0.0004+0.0099j -0.0167+0.0110j -0.0158-0.0098j
line_684_611  0.0000+0.0000j  0.0000+0.0000j -0.0081-0.0048j
line_684_652 -0.0001+0.0005j  0.0000+0.0000j  0.0000+0.0000j
line_692_675 -0.0005+0.0094j -0.0167+0.0110j -0.0159-0.0092j
reg1             nan-0.6140j     nan-0.5561j     nan+1.4216j
sub              nan+0.0000j     nan+0.0000j     nan+0.0000j
xfm1             nan-0.1156j     nan-0.0538j     nan+0.1480j 

FBS results
                          A               B               C
line_650_632 1.2239-0.6140j -0.7983-0.5561j -0.1173+1.4216j
line_632_670 1.0717-0.4984j -0.3583-0.3618j -0.1472+1.1411j
line_670_671 1.0556-0.4874j -0.2938-0.3268j -0.1548+1.0043j
line_671_680 0.0000+0.0000j -0.0000+0.0000j  0.0000+0.0000j
line_632_633 0.1521-0.1156j -0.1351-0.0538j  0.0242+0.1480j
line_632_645 0.0000+0.0000j -0.3049-0.1404j  0.0057+0.1325j
line_645_646 0.0000+0.0000j -0.1140-0.0624j  0.0057+0.1325j
line_692_675 0.4919-0.0419j  0.0787-0.1257j -0.1213+0.2778j
line_671_684 0.1210-0.1003j  0.0000+0.0000j -0.0960+0.1513j
line_684_611 0.0000+0.0000j  0.0000+0.0000j -0.0960+0.1513j
line_684_652 0.1210-0.1003j  0.0000+0.0000j  0.0000+0.0000j
line_671_692 0.5697-0.1265j  0.0787-0.1257j -0.0893+0.3919j
sub          1.2927+0.0000j -0.8333+0.0000j -0.1239+0.0000j
xfm1         0.1521-0.1156j -0.1351-0.0538j  0.0242+0.1480j
reg1         1.2239-0.6140j -0.7983-0.5561j -0.1173+1.4216j 

DSS results
                          A               B               C
line_650_632 1.2270-0.6312j -0.7835-0.5658j -0.0927+1.4418j
line_632_670 1.0725-0.5105j -0.3413-0.3723j -0.1242+1.1580j
line_670_671 1.0563-0.4995j -0.2769-0.3374j -0.1316+1.0208j
line_671_680 0.0000+0.0000j  0.0000-0.0000j -0.0000-0.0000j
line_632_633 0.1545-0.1207j -0.1378-0.0535j  0.0259+0.1510j
line_632_645 0.0000+0.0000j -0.3044-0.1400j  0.0056+0.1328j
line_645_646 0.0000+0.0000j -0.1138-0.0622j  0.0056+0.1328j
line_692_675 0.4923-0.0513j  0.0954-0.1367j -0.1054+0.2870j
line_671_684 0.1211-0.1008j  0.0000+0.0000j -0.0879+0.1560j
line_684_611 0.0000+0.0000j  0.0000+0.0000j -0.0879+0.1560j
line_684_652 0.1211-0.1008j  0.0000+0.0000j  0.0000+0.0000j
line_671_692 0.5701-0.1364j  0.0954-0.1367j -0.0735+0.4016j


COMPARE Stx
Max |diff|:
A.(fbs - dss)   0.0180
B.(fbs - dss)   0.0216
C.(fbs - dss)   0.0331
dtype: float64
               A.(fbs - dss)   B.(fbs - dss)   C.(fbs - dss)
line_632_633 -0.0026-0.0047j -0.0014-0.0026j -0.0016-0.0028j
line_632_645  0.0000-0.0000j  0.0000+0.0000j  0.0000-0.0000j
line_632_670 -0.0003-0.0100j -0.0011+0.0207j -0.0015-0.0283j
line_645_646  0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
line_650_632 -0.0032-0.0177j -0.0011+0.0187j -0.0054-0.0327j
line_670_671 -0.0003-0.0093j -0.0014+0.0207j -0.0010-0.0279j
line_671_680  0.0000+0.0000j -0.0000+0.0000j -0.0000+0.0000j
line_671_684 -0.0000+0.0001j -0.0000+0.0000j  0.0000-0.0094j
line_671_692 -0.0002-0.0079j -0.0007+0.0216j  0.0000-0.0180j
line_684_611  0.0000-0.0000j  0.0000+0.0000j  0.0000-0.0094j
line_684_652 -0.0000+0.0001j  0.0000+0.0000j  0.0000+0.0000j
line_692_675 -0.0002-0.0079j -0.0007+0.0216j  0.0000-0.0180j
reg1             nan+0.6140j     nan+0.4134j     nan+0.6092j
sub              nan+0.0000j     nan+0.7216j     nan-0.1073j
xfm1             nan+0.1100j     nan+0.0900j     nan+0.0900j 

FBS results
                          A               B              C
line_650_632 1.2927+0.6486j  0.9193+0.4314j 1.3624+0.6434j
line_632_670 1.1146+0.4567j  0.5120+0.1213j 1.0828+0.3994j
line_670_671 1.0947+0.4224j  0.4483+0.0823j 0.9529+0.3136j
line_671_680 0.0000-0.0000j  0.0000+0.0000j 0.0000+0.0000j
line_632_633 0.1603+0.1105j  0.1201+0.0903j 0.1203+0.0902j
line_632_645 0.0000-0.0000j  0.2879+0.1934j 0.1152+0.0666j
line_645_646 0.0000+0.0000j  0.1153+0.0662j 0.1151+0.0662j
line_692_675 0.4881-0.0079j  0.0682-0.1395j 0.2906+0.0120j
line_671_684 0.1291+0.0866j -0.0000+0.0000j 0.1708-0.0193j
line_684_611 0.0000-0.0000j  0.0000+0.0000j 0.1704-0.0196j
line_684_652 0.1289+0.0863j  0.0000+0.0000j 0.0000+0.0000j
line_671_692 0.5731+0.0676j  0.0682-0.1395j 0.3756+0.0875j
sub          1.2927+0.0000j  0.4166+0.7216j 0.0620-0.1073j
xfm1         0.1600+0.1100j  0.1200+0.0900j 0.1200+0.0900j
reg1         1.2239+0.6140j  0.8807+0.4134j 1.2898+0.6092j 

DSS results
                           A              B              C
line_650_632  1.2959+0.6663j 0.9203+0.4127j 1.3677+0.6761j
line_632_670  1.1149+0.4667j 0.5131+0.1006j 1.0844+0.4277j
line_670_671  1.0950+0.4318j 0.4497+0.0615j 0.9538+0.3416j
line_671_680 -0.0000-0.0000j 0.0000-0.0000j 0.0000-0.0000j
line_632_633  0.1629+0.1152j 0.1216+0.0929j 0.1219+0.0931j
line_632_645  0.0000+0.0000j 0.2879+0.1933j 0.1152+0.0666j
line_645_646  0.0000+0.0000j 0.1153+0.0662j 0.1151+0.0662j
line_692_675  0.4883+0.0000j 0.0690-0.1611j 0.2906+0.0301j
line_671_684  0.1291+0.0865j 0.0000+0.0000j 0.1708-0.0099j
line_684_611  0.0000+0.0000j 0.0000+0.0000j 0.1704-0.0102j
line_684_652  0.1289+0.0863j 0.0000+0.0000j 0.0000+0.0000j
line_671_692  0.5733+0.0755j 0.0690-0.1611j 0.3756+0.1055j


COMPARE Srx
Max |diff|:
A.(fbs - dss)   0.0150
B.(fbs - dss)   0.0216
C.(fbs - dss)   0.0312
dtype: float64
               A.(fbs - dss)   B.(fbs - dss)   C.(fbs - dss)
line_632_633 -0.0026-0.0046j -0.0014-0.0026j -0.0015-0.0028j
line_632_645  0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
line_632_670 -0.0003-0.0093j -0.0014+0.0207j -0.0009-0.0279j
line_645_646  0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
line_650_632 -0.0029-0.0147j -0.0025+0.0181j -0.0031-0.0311j
line_670_671 -0.0003-0.0079j -0.0019+0.0210j  0.0001-0.0274j
line_671_680 -0.0000-0.0000j -0.0000+0.0000j -0.0000+0.0000j
line_671_684 -0.0000+0.0001j  0.0000+0.0000j  0.0000-0.0094j
line_671_692 -0.0002-0.0079j -0.0007+0.0216j  0.0000-0.0180j
line_684_611  0.0000+0.0000j  0.0000+0.0000j  0.0000-0.0094j
line_684_652 -0.0000-0.0000j  0.0000+0.0000j  0.0000+0.0000j
line_692_675 -0.0001-0.0080j -0.0006+0.0216j  0.0000-0.0182j
reg1             nan+0.6486j     nan+0.4314j     nan+0.6434j
sub              nan+0.0000j     nan+0.7216j     nan-0.1073j
xfm1             nan+0.1100j     nan+0.0900j     nan+0.0900j 

FBS results
                          A              B              C
line_650_632 1.2749+0.5672j 0.9201+0.4050j 1.3183+0.5563j
line_632_670 1.1117+0.4324j 0.5143+0.1203j 1.0699+0.3816j
line_670_671 1.0872+0.3742j 0.4532+0.0805j 0.9314+0.2882j
line_671_680 0.0000-0.0000j 0.0000+0.0000j 0.0000+0.0000j
line_632_633 0.1600+0.1100j 0.1200+0.0900j 0.1200+0.0900j
line_632_645 0.0000+0.0000j 0.2853+0.1912j 0.1151+0.0662j
line_645_646 0.0000+0.0000j 0.1150+0.0660j 0.1150+0.0660j
line_692_675 0.4850-0.0100j 0.0680-0.1400j 0.2900+0.0120j
line_671_684 0.1289+0.0863j 0.0000+0.0000j 0.1704-0.0196j
line_684_611 0.0000+0.0000j 0.0000+0.0000j 0.1700-0.0200j
line_684_652 0.1280+0.0860j 0.0000+0.0000j 0.0000+0.0000j
line_671_692 0.5731+0.0676j 0.0682-0.1395j 0.3756+0.0875j
sub          1.2927+0.0000j 0.4166+0.7216j 0.0620-0.1073j
xfm1         0.1600+0.1100j 0.1200+0.0900j 0.1200+0.0900j
reg1         1.2927+0.6486j 0.9193+0.4314j 1.3624+0.6434j 

DSS results
                          A              B              C
line_650_632 1.2779+0.5818j 0.9226+0.3869j 1.3214+0.5874j
line_632_670 1.1120+0.4418j 0.5157+0.0995j 1.0708+0.4096j
line_670_671 1.0875+0.3821j 0.4551+0.0595j 0.9313+0.3156j
line_671_680 0.0000+0.0000j 0.0000-0.0000j 0.0000-0.0000j
line_632_633 0.1626+0.1146j 0.1214+0.0926j 0.1215+0.0928j
line_632_645 0.0000+0.0000j 0.2853+0.1911j 0.1151+0.0662j
line_645_646 0.0000+0.0000j 0.1150+0.0660j 0.1150+0.0660j
line_692_675 0.4851-0.0020j 0.0686-0.1616j 0.2900+0.0302j
line_671_684 0.1289+0.0863j 0.0000+0.0000j 0.1704-0.0102j
line_684_611 0.0000+0.0000j 0.0000+0.0000j 0.1700-0.0106j
line_684_652 0.1280+0.0860j 0.0000+0.0000j 0.0000+0.0000j
line_671_692 0.5733+0.0755j 0.0690-0.1611j 0.3756+0.1055j
.

=============================== warnings summary ===============================
tests/test_compare_opendss.py::test_all
  /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/fbs/fbs/solution.py:182: RuntimeWarning: invalid value encountered in true_divide
    new_line_I = np.conj(np.divide(node_s, node_V))

tests/test_compare_opendss.py::test_all
  /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/fbs/fbs/solution.py:212: ComplexWarning: Casting complex values to real discards the imaginary part
    Itx[idx] = gamma * Ireg[idx]

tests/test_compare_opendss.py::test_all
  /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/fbs/fbs/solution.py:256: RuntimeWarning: invalid value encountered in true_divide
    node_I = np.conj(np.divide(node_sV,node_V))

-- Docs: https://docs.pytest.org/en/stable/warnings.html
======================== 1 passed, 3 warnings in 0.66s =========================
