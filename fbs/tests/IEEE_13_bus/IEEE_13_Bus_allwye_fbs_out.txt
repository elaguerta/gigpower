============================= test session starts ==============================
platform darwin -- Python 3.7.4, pytest-6.0.1, py-1.9.0, pluggy-0.13.1
rootdir: /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/fbs
collected 1 item

fbs/tests/test_compare_opendss.py 

Testing File: fbs/tests/IEEE_13_bus/IEEE_13_Bus_allwye.dss

Opendss Iterations: 4	Opendss Convergence: 0.0001
FBS iterations: 7	 FBS convergence:3.6101265586419894e-07	 FBS tolerance: 1e-06


COMPARE V
Max |diff|:
A.(fbs - dss)   0.0278
B.(fbs - dss)   0.0209
C.(fbs - dss)   0.0199
dtype: float64
           A.(fbs - dss)   B.(fbs - dss)   C.(fbs - dss)
sourcebus 0.0001+0.0002j  0.0001-0.0001j -0.0002-0.0000j
650       0.0001+0.0002j  0.0001-0.0001j -0.0003+0.0000j
rg60      0.0003+0.0002j  0.0001-0.0002j -0.0004+0.0001j
633       0.0011-0.0000j  0.0005-0.0006j  0.0009-0.0004j
634       0.0257+0.0106j -0.0021-0.0208j -0.0155+0.0125j
671       0.0016-0.0002j  0.0010-0.0009j  0.0022-0.0011j
645       0.0000+0.0000j  0.0005-0.0006j  0.0009-0.0005j
646       0.0000+0.0000j  0.0005-0.0006j  0.0009-0.0005j
692       0.0016-0.0002j  0.0010-0.0009j  0.0022-0.0011j
675       0.0016-0.0002j  0.0010-0.0009j  0.0022-0.0012j
611       0.0000+0.0000j  0.0000+0.0000j  0.0023-0.0013j
652       0.0017-0.0002j  0.0000+0.0000j -0.0000+0.0000j
670       0.0013-0.0001j  0.0007-0.0007j  0.0013-0.0007j
632       0.0011+0.0000j  0.0005-0.0006j  0.0009-0.0005j
680       0.0016-0.0002j  0.0010-0.0009j  0.0022-0.0011j
684       0.0017-0.0002j  0.0000+0.0000j  0.0022-0.0012j 

FBS results
                       A               B               C
sourcebus 1.0000+0.0000j -0.5000-0.8660j -0.5000+0.8660j
650       1.0000+0.0000j -0.5000-0.8660j -0.5000+0.8660j
rg60      1.0625+0.0000j -0.5250-0.9093j -0.5344+0.9256j
633       1.0141-0.0469j -0.5363-0.8813j -0.4671+0.8821j
634       1.0141-0.0469j -0.5363-0.8813j -0.4671+0.8821j
671       0.9760-0.0972j -0.5471-0.8870j -0.4214+0.8424j
645       0.0000+0.0000j -0.5321-0.8740j -0.4657+0.8841j
646       0.0000+0.0000j -0.5308-0.8719j -0.4640+0.8829j
692       0.9760-0.0972j -0.5471-0.8870j -0.4214+0.8424j
675       0.9681-0.0990j -0.5489-0.8871j -0.4212+0.8386j
611       0.0000+0.0000j  0.0000+0.0000j -0.4167+0.8370j
652       0.9684-0.0960j  0.0000+0.0000j -0.0000+0.0000j
670       1.0039-0.0630j -0.5397-0.8839j -0.4509+0.8699j
632       1.0171-0.0459j -0.5366-0.8834j -0.4685+0.8843j
680       0.9760-0.0972j -0.5471-0.8870j -0.4214+0.8424j
684       0.9740-0.0979j  0.0000+0.0000j -0.4194+0.8396j 

DSS results
                       A               B               C
sourcebus 0.9999-0.0002j -0.5001-0.8659j -0.4998+0.8660j
650       0.9999-0.0002j -0.5001-0.8659j -0.4997+0.8660j
rg60      1.0622-0.0002j -0.5251-0.9091j -0.5340+0.9254j
633       1.0130-0.0469j -0.5368-0.8807j -0.4681+0.8825j
634       0.9884-0.0576j -0.5342-0.8605j -0.4517+0.8696j
671       0.9744-0.0970j -0.5481-0.8862j -0.4235+0.8436j
645       0.0000+0.0000j -0.5326-0.8734j -0.4665+0.8846j
646       0.0000+0.0000j -0.5313-0.8714j -0.4649+0.8834j
692       0.9744-0.0970j -0.5481-0.8862j -0.4235+0.8436j
675       0.9665-0.0987j -0.5499-0.8862j -0.4234+0.8398j
611       0.0000+0.0000j  0.0000+0.0000j -0.4190+0.8383j
652       0.9667-0.0958j  0.0000+0.0000j  0.0000+0.0000j
670       1.0026-0.0629j -0.5404-0.8832j -0.4522+0.8706j
632       1.0161-0.0459j -0.5371-0.8828j -0.4694+0.8848j
680       0.9744-0.0970j -0.5481-0.8862j -0.4235+0.8436j
684       0.9723-0.0977j  0.0000+0.0000j -0.4216+0.8407j


COMPARE I
Max |diff|:
A.(fbs - dss)   0.0057
B.(fbs - dss)   0.0032
C.(fbs - dss)   0.0201
dtype: float64
               A.(fbs - dss)   B.(fbs - dss)   C.(fbs - dss)
line_632_633 -0.0015+0.0041j  0.0024-0.0005j -0.0015-0.0019j
line_632_645  0.0000+0.0000j  0.0002-0.0002j  0.0001+0.0001j
line_632_670 -0.0015+0.0007j  0.0004-0.0005j  0.0038+0.0198j
line_645_646  0.0000+0.0000j  0.0001-0.0001j  0.0001+0.0001j
line_650_632 -0.0030+0.0048j  0.0029-0.0012j  0.0023+0.0179j
line_670_671 -0.0015+0.0007j  0.0003-0.0005j  0.0036+0.0197j
line_671_680 -0.0000-0.0000j -0.0000+0.0000j  0.0000+0.0000j
line_671_684 -0.0002+0.0001j  0.0000+0.0000j  0.0002+0.0050j
line_671_692 -0.0008+0.0003j -0.0000-0.0001j  0.0024+0.0084j
line_684_611  0.0000+0.0000j  0.0000+0.0000j  0.0002+0.0050j
line_684_652 -0.0002+0.0001j  0.0000+0.0000j  0.0000+0.0000j
line_692_675 -0.0007+0.0002j -0.0000-0.0001j  0.0018+0.0069j
reg1             nan-0.8161j     nan-0.4630j     nan+1.5663j
sub              nan+0.0000j     nan+0.0000j     nan+0.0000j
xfm1             nan-0.1160j     nan-0.0545j     nan+0.1484j 

FBS results
                          A               B               C
line_650_632 1.2083-0.8161j -0.9692-0.4630j  0.1494+1.5663j
line_632_670 1.0553-0.7001j -0.5268-0.2668j  0.1211+1.2851j
line_670_671 1.0390-0.6891j -0.4617-0.2312j  0.1144+1.1479j
line_671_680 0.0000+0.0000j -0.0000+0.0000j  0.0000+0.0000j
line_632_633 0.1530-0.1160j -0.1361-0.0545j  0.0234+0.1484j
line_632_645 0.0000+0.0000j -0.3063-0.1418j  0.0049+0.1328j
line_645_646 0.0000+0.0000j -0.1144-0.0629j  0.0049+0.1328j
line_692_675 0.4728-0.2433j -0.0841-0.0254j  0.0622+0.3719j
line_671_684 0.1214-0.1002j  0.0000+0.0000j -0.0044+0.1977j
line_684_611 0.0000+0.0000j  0.0000+0.0000j -0.0044+0.1977j
line_684_652 0.1214-0.1002j  0.0000+0.0000j  0.0000+0.0000j
line_671_692 0.5510-0.3281j -0.0841-0.0254j  0.0931+0.4868j
sub          1.2838+0.0000j -1.0176+0.0000j  0.1597+0.0000j
xfm1         0.1530-0.1160j -0.1361-0.0545j  0.0234+0.1484j
reg1         1.2083-0.8161j -0.9692-0.4630j  0.1494+1.5663j 

DSS results
                          A               B               C
line_650_632 1.2113-0.8209j -0.9721-0.4619j  0.1471+1.5483j
line_632_670 1.0568-0.7009j -0.5272-0.2663j  0.1173+1.2654j
line_670_671 1.0405-0.6899j -0.4620-0.2307j  0.1108+1.1282j
line_671_680 0.0000+0.0000j  0.0000-0.0000j -0.0000-0.0000j
line_632_633 0.1545-0.1200j -0.1384-0.0540j  0.0249+0.1503j
line_632_645 0.0000+0.0000j -0.3065-0.1416j  0.0049+0.1327j
line_645_646 0.0000+0.0000j -0.1145-0.0629j  0.0049+0.1327j
line_692_675 0.4735-0.2435j -0.0841-0.0254j  0.0605+0.3650j
line_671_684 0.1216-0.1003j  0.0000+0.0000j -0.0046+0.1927j
line_684_611 0.0000+0.0000j  0.0000+0.0000j -0.0046+0.1927j
line_684_652 0.1216-0.1003j  0.0000+0.0000j  0.0000+0.0000j
line_671_692 0.5518-0.3284j -0.0841-0.0254j  0.0907+0.4784j


COMPARE Stx
Max |diff|:
A.(fbs - dss)   0.0055
B.(fbs - dss)   0.0031
C.(fbs - dss)   0.0198
dtype: float64
               A.(fbs - dss)   B.(fbs - dss)   C.(fbs - dss)
line_632_633 -0.0016-0.0039j -0.0009-0.0022j -0.0010-0.0024j
line_632_645  0.0000-0.0000j -0.0000+0.0000j -0.0000-0.0000j
line_632_670 -0.0005+0.0001j  0.0001-0.0002j  0.0152+0.0114j
line_645_646  0.0000+0.0000j  0.0000+0.0000j -0.0000-0.0000j
line_650_632 -0.0031-0.0046j -0.0004-0.0030j  0.0155+0.0123j
line_670_671 -0.0002+0.0002j  0.0001-0.0001j  0.0148+0.0104j
line_671_680  0.0000+0.0000j -0.0000+0.0000j -0.0000+0.0000j
line_671_684  0.0000+0.0001j -0.0000+0.0000j  0.0039+0.0019j
line_671_692  0.0001+0.0002j -0.0000+0.0001j  0.0058+0.0044j
line_684_611  0.0000-0.0000j  0.0000+0.0000j  0.0039+0.0018j
line_684_652  0.0000+0.0001j  0.0000+0.0000j  0.0000+0.0000j
line_692_675  0.0001+0.0001j -0.0000+0.0001j  0.0048+0.0036j
reg1             nan+0.8161j     nan+0.6078j     nan+0.9125j
sub              nan+0.0000j     nan+0.8813j     nan+0.1383j
xfm1             nan+0.1104j     nan+0.0907j     nan+0.0900j 

FBS results
                          A               B               C
line_650_632 1.2838+0.8671j  0.9299+0.6382j  1.3698+0.9753j
line_632_670 1.1055+0.6637j  0.5184+0.3222j  1.0798+0.7091j
line_670_671 1.0865+0.6264j  0.4536+0.2833j  0.9470+0.6171j
line_671_680 0.0000-0.0000j  0.0000+0.0000j  0.0000+0.0000j
line_632_633 0.1610+0.1109j  0.1211+0.0910j  0.1202+0.0902j
line_632_645 0.0000-0.0000j  0.2896+0.1945j  0.1151+0.0666j
line_645_646 0.0000+0.0000j  0.1159+0.0665j  0.1151+0.0662j
line_692_675 0.4851+0.1915j  0.0686+0.0607j  0.2871+0.2091j
line_671_684 0.1282+0.0860j -0.0000+0.0000j  0.1684+0.0796j
line_684_611 0.0000-0.0000j  0.0000+0.0000j  0.1678+0.0793j
line_684_652 0.1280+0.0858j  0.0000+0.0000j  0.0000+0.0000j
line_671_692 0.5697+0.2666j  0.0686+0.0607j  0.3709+0.2835j
sub          1.2838+0.0000j  0.5088+0.8813j -0.0798+0.1383j
xfm1         0.1606+0.1104j  0.1210+0.0907j  0.1199+0.0900j
reg1         1.2083+0.8161j  0.8856+0.6078j  1.2817+0.9125j 

DSS results
                           A              B              C
line_650_632  1.2869+0.8717j 0.9303+0.6412j 1.3543+0.9629j
line_632_670  1.1060+0.6636j 0.5182+0.3224j 1.0645+0.6977j
line_670_671  1.0867+0.6262j 0.4535+0.2834j 0.9321+0.6066j
line_671_680 -0.0000-0.0000j 0.0000-0.0000j 0.0000-0.0000j
line_632_633  0.1625+0.1149j 0.1220+0.0932j 0.1213+0.0926j
line_632_645  0.0000+0.0000j 0.2896+0.1945j 0.1151+0.0666j
line_645_646  0.0000+0.0000j 0.1159+0.0665j 0.1151+0.0662j
line_692_675  0.4850+0.1914j 0.0686+0.0606j 0.2823+0.2056j
line_671_684  0.1282+0.0860j 0.0000+0.0000j 0.1645+0.0778j
line_684_611  0.0000+0.0000j 0.0000+0.0000j 0.1639+0.0774j
line_684_652  0.1280+0.0857j 0.0000+0.0000j 0.0000+0.0000j
line_671_692  0.5695+0.2665j 0.0686+0.0606j 0.3651+0.2791j


COMPARE Srx
Max |diff|:
A.(fbs - dss)   0.0044
B.(fbs - dss)   0.0025
C.(fbs - dss)   0.0181
dtype: float64
               A.(fbs - dss)   B.(fbs - dss)   C.(fbs - dss)
line_632_633 -0.0015-0.0039j -0.0009-0.0022j -0.0010-0.0024j
line_632_645  0.0000+0.0000j -0.0000-0.0000j -0.0000-0.0000j
line_632_670 -0.0002+0.0002j  0.0001-0.0001j  0.0148+0.0104j
line_645_646  0.0000+0.0000j  0.0000+0.0000j -0.0000-0.0000j
line_650_632 -0.0020-0.0039j -0.0008-0.0024j  0.0142+0.0090j
line_670_671  0.0003+0.0003j -0.0000+0.0001j  0.0140+0.0088j
line_671_680 -0.0000-0.0000j -0.0000+0.0000j  0.0000-0.0000j
line_671_684  0.0000+0.0001j  0.0000+0.0000j  0.0039+0.0018j
line_671_692  0.0001+0.0002j -0.0000+0.0001j  0.0058+0.0044j
line_684_611  0.0000+0.0000j  0.0000+0.0000j  0.0039+0.0018j
line_684_652  0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
line_692_675  0.0001+0.0000j -0.0000-0.0000j  0.0047+0.0035j
reg1             nan+0.8671j     nan+0.6382j     nan+0.9753j
sub              nan+0.0000j     nan+0.8813j     nan+0.1383j
xfm1             nan+0.1104j     nan+0.0907j     nan+0.0900j 

FBS results
                          A              B               C
line_650_632 1.2665+0.7746j 0.9291+0.6077j  1.3151+0.8659j
line_632_670 1.1035+0.6364j 0.5202+0.3217j  1.0634+0.6848j
line_670_671 1.0810+0.5716j 0.4577+0.2831j  0.9188+0.5801j
line_671_680 0.0000-0.0000j 0.0000+0.0000j  0.0000+0.0000j
line_632_633 0.1606+0.1104j 0.1210+0.0907j  0.1199+0.0900j
line_632_645 0.0000+0.0000j 0.2869+0.1922j  0.1151+0.0662j
line_645_646 0.0000+0.0000j 0.1156+0.0663j  0.1149+0.0660j
line_692_675 0.4818+0.1887j 0.0687+0.0607j  0.2856+0.2088j
line_671_684 0.1280+0.0858j 0.0000+0.0000j  0.1678+0.0793j
line_684_611 0.0000+0.0000j 0.0000+0.0000j  0.1673+0.0787j
line_684_652 0.1271+0.0854j 0.0000+0.0000j  0.0000+0.0000j
line_671_692 0.5697+0.2666j 0.0686+0.0607j  0.3709+0.2835j
sub          1.2838+0.0000j 0.5088+0.8813j -0.0798+0.1383j
xfm1         0.1606+0.1104j 0.1210+0.0907j  0.1199+0.0900j
reg1         1.2838+0.8671j 0.9299+0.6382j  1.3698+0.9753j 

DSS results
                          A              B               C
line_650_632 1.2685+0.7785j 0.9299+0.6101j  1.3009+0.8569j
line_632_670 1.1037+0.6362j 0.5201+0.3217j  1.0486+0.6743j
line_670_671 1.0807+0.5713j 0.4577+0.2830j  0.9048+0.5713j
line_671_680 0.0000+0.0000j 0.0000-0.0000j -0.0000+0.0000j
line_632_633 0.1621+0.1143j 0.1219+0.0930j  0.1209+0.0923j
line_632_645 0.0000+0.0000j 0.2869+0.1923j  0.1151+0.0662j
line_645_646 0.0000+0.0000j 0.1156+0.0663j  0.1149+0.0660j
line_692_675 0.4817+0.1887j 0.0688+0.0607j  0.2809+0.2054j
line_671_684 0.1280+0.0857j 0.0000+0.0000j  0.1639+0.0774j
line_684_611 0.0000+0.0000j 0.0000+0.0000j  0.1634+0.0769j
line_684_652 0.1271+0.0854j 0.0000+0.0000j  0.0000+0.0000j
line_671_692 0.5695+0.2665j 0.0686+0.0606j  0.3651+0.2791j


COMPARE TOTAL NODE POWERS

Max |diff|:
A.(fbs - dss)   2.3556
B.(fbs - dss)   0.6994
C.(fbs - dss)   5.8536
dtype: float64
           A.(fbs - dss)   B.(fbs - dss)   C.(fbs - dss)
sourcebus 0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
650       0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
rg60      0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
633       0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
634       0.9892+0.6816j  0.5606+0.4182j  0.5303+0.3978j
671       0.1540+0.0928j  0.0182+0.0031j  4.3487+2.4836j
645       0.0000+0.0000j -0.0234-0.0199j  0.0000+0.0000j
646       0.0000+0.0000j  0.0062+0.0020j -0.0231-0.0134j
692       1.7613+1.5641j  0.0000+0.0000j -0.7674-0.6802j
675       0.1089+0.0479j -0.0095-0.0101j  4.7261+3.4538j
611       0.0000+0.0000j  0.0000+0.0000j  3.8590+1.8155j
652       0.0293+0.0215j  0.0000+0.0000j  0.0000+0.0000j
670       0.0021+0.0014j -0.0095-0.0065j -0.0552-0.0323j
632       0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
680       0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j
684       0.0000+0.0000j  0.0000+0.0000j  0.0000+0.0000j 

FBS results
                           A                  B                  C
sourcebus     0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
650           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
rg60          0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
633           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
634       160.6130+110.4214j  120.9622+90.7217j  119.9443+89.9583j
671       383.1699+218.9542j 389.1285+222.3592j 379.5410+216.8806j
645           0.0000+0.0000j 170.9952+125.7318j     0.0000+0.0000j
646           0.0000+0.0000j  115.6029+66.3460j  114.9268+65.9580j
692         84.5959+75.1411j     0.0000+0.0000j   83.7948+74.4295j
675       481.7839+188.7401j   68.7467+60.6588j 285.6462+208.8172j
611           0.0000+0.0000j     0.0000+0.0000j  167.3100+78.7341j
652        127.1487+85.4281j     0.0000+0.0000j     0.0000+0.0000j
670         17.0251+10.0147j   66.5957+38.3430j  116.4150+67.6600j
632           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
680           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
684           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j 

DSS results
                           A                  B                  C
sourcebus     0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
650           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
rg60          0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
633           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
634       159.6237+109.7398j  120.4016+90.3034j  119.4140+89.5604j
671       383.0159+218.8614j 389.1104+222.3561j 375.1924+214.3970j
645           0.0000+0.0000j 171.0186+125.7516j     0.0000+0.0000j
646           0.0000+0.0000j  115.5968+66.3441j  114.9499+65.9714j
692         82.8346+73.5770j     0.0000+0.0000j   84.5622+75.1097j
675       481.6751+188.6922j   68.7562+60.6690j 280.9201+205.3634j
611           0.0000+0.0000j     0.0000+0.0000j  163.4510+76.9186j
652        127.1194+85.4066j     0.0000+0.0000j     0.0000+0.0000j
670         17.0229+10.0133j   66.6052+38.3495j  116.4702+67.6923j
632           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
680           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
684           0.0000+0.0000j     0.0000+0.0000j     0.0000+0.0000j
.

=============================== warnings summary ===============================
tests/test_compare_opendss.py::test_all
  /Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/opendssdirect/utils.py:71: UserWarning: Empty list (opendssdirect.Capacitors)
    warnings.warn("Empty list ({class_name})".format(class_name=class_name))

tests/test_compare_opendss.py::test_all
  /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/fbs/fbs/solution.py:182: RuntimeWarning: invalid value encountered in true_divide
    new_line_I = np.conj(np.divide(node_s, node_V))

tests/test_compare_opendss.py::test_all
  /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/fbs/fbs/solution.py:212: ComplexWarning: Casting complex values to real discards the imaginary part
    Itx[idx] = gamma * Ireg[idx]

tests/test_compare_opendss.py::test_all
  /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/fbs/fbs/solution.py:279: RuntimeWarning: invalid value encountered in true_divide
    node_I = np.conj(np.divide(node_sV,node_V))

-- Docs: https://docs.pytest.org/en/stable/warnings.html
======================== 1 passed, 4 warnings in 1.06s =========================
