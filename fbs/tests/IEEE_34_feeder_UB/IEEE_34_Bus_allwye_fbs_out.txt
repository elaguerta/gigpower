============================= test session starts ==============================
platform darwin -- Python 3.7.4, pytest-6.0.1, py-1.9.0, pluggy-0.13.1
rootdir: /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/fbs
collected 1 item

fbs/tests/test_compare_opendss.py 

Testing File: fbs/tests/IEEE_34_feeder_UB/IEEE_34_Bus_allwye.dss
F

=================================== FAILURES ===================================
___________________________________ test_all ___________________________________

    def test_all():
        """
        Compare the python FBS solution to the opendss solution.
        To save output, run from command line:
        pytest ./fbs/tests/test_compare_opendss.py -s >[OUTPUT FILE PATH]
        Examples:
        $ pytest ./fbs/tests/test_compare_opendss.py -s > ./fbs/tests/06n3ph_unbal/06n3ph_out.txt
        $ pytest ./fbs/tests/test_compare_opendss.py -s > ./fbs/tests/05n3ph_unbal/05n3ph_out.txt
        """
        tolerance = 10**-1
        for file in dss_files:
            print(f'\n\nTesting File: {file}')
>           compare_fbs_sol(file, tolerance)

fbs/tests/test_compare_opendss.py:38: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
fbs/tests/test_compare_opendss.py:45: in compare_fbs_sol
    network = init_from_dss(dss_file)
fbs/fbs/utils.py:16: in init_from_dss
    get_caps_from_dss(network, dss)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

network = <fbs.network.Network object at 0x7f908b23aa50>
dss = <module 'opendssdirect' from '/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/opendssdirect/__init__.py'>

    def get_caps_from_dss(network: Network, dss: Any) -> None:
        # make Capacitors
        all_cap_data = dss.utils.capacitors_to_dataframe().transpose()
        cap_names = all_cap_data.keys()
        for cap_name in cap_names:
            if cap_name != '':
                cap_data = all_cap_data[cap_name]
>               node_name, phase_chars, cap_idx = cap_name.split('_')[1:]
E               ValueError: not enough values to unpack (expected 3, got 0)

fbs/fbs/utils.py:157: ValueError
=========================== short test summary info ============================
FAILED fbs/tests/test_compare_opendss.py::test_all - ValueError: not enough v...
============================== 1 failed in 0.93s ===============================
