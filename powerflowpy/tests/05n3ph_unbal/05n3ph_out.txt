============================= test session starts ==============================
platform darwin -- Python 3.7.4, pytest-6.0.1, py-1.9.0, pluggy-0.13.1
rootdir: /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/powerflowpy
collected 1 item

powerflowpy/tests/test_compare_opendss.py 
Opendss Iterations: 11	Opendss Convergence: 1e-12
OpenDSS Loads, from dss.CktElement.Powers():
[100.48399517618911, 50.24048085785567, -100.00000000000172, -50.000000000002444]
FBS iterations: 12	 FBS convergence:3.287729130225941e-13	 FBS tolerance: 9.999999999999998e-13

COMPARE V
Max |diff|:
A.(fbs - dss)    0.000071
B.(fbs - dss)    0.000037
C.(fbs - dss)    0.000051
dtype: float64
                A.(fbs - dss)       B.(fbs - dss)       C.(fbs - dss)
sourcebus  0.000003+0.000006j  0.000003-0.000005j -0.000005-0.000000j
a01        0.000018+0.000015j -0.000001-0.000018j -0.000015+0.000012j
a02        0.000030+0.000023j -0.000004-0.000027j -0.000023+0.000022j
a03        0.000046+0.000036j -0.000009-0.000036j -0.000032+0.000036j
a04        0.000048+0.000034j  0.000000-0.000000j -0.000037+0.000035j
a05        0.000053+0.000047j -0.000007-0.000037j -0.000000+0.000000j
a06        0.000000+0.000000j -0.000005-0.000036j -0.000000+0.000000j
FBS results
                            A                   B                   C
sourcebus  1.000000+0.000000j -0.500000-0.866025j -0.500000+0.866025j
a01        0.993368+0.016721j -0.488957-0.874208j -0.514429+0.857776j
a02        0.986735+0.033442j -0.477913-0.882390j -0.528857+0.849526j
a03        0.974392+0.058461j -0.463579-0.895186j -0.550906+0.838171j
a04        0.980513+0.058900j  0.000000-0.000000j -0.550343+0.824765j
a05        0.957050+0.074668j -0.464360-0.896331j -0.000000+0.000000j
a06        0.000000+0.000000j -0.462547-0.891429j -0.000000+0.000000j
DSS results
                            A                   B                   C
sourcebus  0.999997-0.000006j -0.500003-0.866020j -0.499995+0.866026j
a01        0.993349+0.016706j -0.488956-0.874189j -0.514413+0.857764j
a02        0.986705+0.033420j -0.477910-0.882363j -0.528835+0.849505j
a03        0.974346+0.058425j -0.463570-0.895150j -0.550874+0.838135j
a04        0.980465+0.058867j  0.000000+0.000000j -0.550306+0.824730j
a05        0.956996+0.074621j -0.464353-0.896294j  0.000000+0.000000j
a06        0.000000+0.000000j -0.462542-0.891393j  0.000000+0.000000j

COMPARE I
Max |diff|:
A.(fbs - dss)    0.000451
B.(fbs - dss)    0.000461
C.(fbs - dss)    0.000378
dtype: float64
                   A.(fbs - dss)       B.(fbs - dss)       C.(fbs - dss)
line_sub_a01  0.000002-0.000451j -0.000393+0.000240j  0.000320+0.000202j
line_a01_a02  0.000001-0.000353j -0.000308+0.000192j  0.000235+0.000152j
line_a02_a03  0.000001-0.000258j -0.000224+0.000143j  0.000151+0.000104j
line_a03_a04 -0.000014-0.000085j  0.000000+0.000000j  0.000067+0.000056j
line_a03_a05  0.000015-0.000081j -0.000139+0.000095j  0.000000+0.000000j
line_a05_a06  0.000000+0.000000j -0.000069+0.000039j  0.000000+0.000000j
FBS results
                               A                   B                   C
line_sub_a01  0.414908-0.078468j -0.294612-0.294461j -0.100542+0.292931j
line_a01_a02  0.414908-0.078468j -0.294612-0.294461j -0.100542+0.292931j
line_a02_a03  0.312822-0.056592j -0.225248-0.218701j -0.068938+0.194893j
line_a03_a04  0.103147-0.019301j  0.000000+0.000000j -0.035006+0.097888j
line_a03_a05  0.105881-0.017861j -0.157610-0.142019j  0.000000+0.000000j
line_a05_a06  0.000000+0.000000j -0.090052-0.065453j  0.000000+0.000000j
DSS results
                               A                   B                   C
line_sub_a01  0.414906-0.078017j -0.294219-0.294701j -0.100862+0.292729j
line_a01_a02  0.414907-0.078115j -0.294305-0.294653j -0.100777+0.292779j
line_a02_a03  0.312821-0.056334j -0.225024-0.218844j -0.069089+0.194789j
line_a03_a04  0.103161-0.019216j  0.000000+0.000000j -0.035073+0.097832j
line_a03_a05  0.105866-0.017781j -0.157471-0.142114j  0.000000+0.000000j
line_a05_a06  0.000000+0.000000j -0.089984-0.065492j  0.000000+0.000000j

COMPARE Stx
Max |diff|:
A.(fbs - dss)    0.000453
B.(fbs - dss)    0.000463
C.(fbs - dss)    0.000380
dtype: float64
                   A.(fbs - dss)       B.(fbs - dss)       C.(fbs - dss)
line_sub_a01  0.000002+0.000453j -0.000011+0.000463j  0.000015+0.000380j
line_a01_a02  0.000001+0.000358j -0.000012+0.000368j  0.000014+0.000283j
line_a02_a03  0.000001+0.000263j -0.000013+0.000271j  0.000014+0.000186j
line_a03_a04 -0.000015+0.000086j -0.000000+0.000000j  0.000015+0.000089j
line_a03_a05  0.000015+0.000084j -0.000014+0.000173j  0.000000+0.000000j
line_a05_a06  0.000000+0.000000j  0.000000+0.000082j  0.000000+0.000000j
FBS results
                               A                   B                   C
line_sub_a01  0.414908+0.078468j  0.402317+0.107911j  0.303957+0.059394j
line_a01_a02  0.410844+0.084885j  0.401473+0.113574j  0.302991+0.064450j
line_a02_a03  0.306780+0.066302j  0.300629+0.094236j  0.202025+0.044506j
line_a03_a04  0.099377+0.024837j -0.000000+0.000000j  0.101332+0.024586j
line_a03_a05  0.102126+0.023594j  0.200198+0.075253j  0.000000+0.000000j
line_a05_a06  0.000000+0.000000j  0.100484+0.050323j  0.000000+0.000000j
DSS results
                               A                   B                   C
line_sub_a01  0.414905+0.078014j  0.402328+0.107448j  0.303942+0.059014j
line_a01_a02  0.410842+0.084527j  0.401484+0.113206j  0.302977+0.064167j
line_a02_a03  0.306779+0.066039j  0.300641+0.093965j  0.202011+0.044320j
line_a03_a04  0.099392+0.024750j  0.000000+0.000000j  0.101317+0.024497j
line_a03_a05  0.102111+0.023510j  0.200213+0.075080j  0.000000+0.000000j
line_a05_a06  0.000000+0.000000j  0.100484+0.050240j  0.000000+0.000000j

COMPARE Srx
Max |diff|:
A.(fbs - dss)    0.000358
B.(fbs - dss)    0.000368
C.(fbs - dss)    0.000284
dtype: float64
                           A.(fbs - dss)  ...               C.(fbs - dss)
line_sub_a01  1.440514e-06+3.578970e-04j  ...  1.439201e-05+2.832329e-04j
line_a01_a02  6.872336e-07+2.632055e-04j  ...  1.436334e-05+1.863057e-04j
line_a02_a03 -1.841590e-07+1.702032e-04j  ...  1.487156e-05+8.911105e-05j
line_a03_a04 -7.077672e-14-1.696907e-14j  ...  6.068757e-14+2.187833e-14j
line_a03_a05 -6.816769e-14-1.454045e-14j  ...  0.000000e+00+0.000000e+00j
line_a05_a06  0.000000e+00+0.000000e+00j  ...  0.000000e+00+0.000000e+00j

[6 rows x 3 columns]
FBS results
                               A                   B                   C
line_sub_a01  0.410844+0.084885j  0.401473+0.113574j  0.302991+0.064450j
line_a01_a02  0.406780+0.091302j  0.400629+0.119236j  0.302025+0.069506j
line_a02_a03  0.301503+0.073430j  0.300198+0.100253j  0.201332+0.049586j
line_a03_a04  0.100000+0.025000j  0.000000-0.000000j  0.100000+0.025000j
line_a03_a05  0.100000+0.025000j  0.200484+0.075323j  0.000000+0.000000j
line_a05_a06  0.000000+0.000000j  0.100000+0.050000j  0.000000+0.000000j
DSS results
                               A                   B                   C
line_sub_a01  0.410842+0.084527j  0.401484+0.113206j  0.302977+0.064167j
line_a01_a02  0.406779+0.091039j  0.400641+0.118965j  0.302011+0.069320j
line_a02_a03  0.301503+0.073260j  0.300213+0.100080j  0.201317+0.049497j
line_a03_a04  0.100000+0.025000j  0.000000+0.000000j  0.100000+0.025000j
line_a03_a05  0.100000+0.025000j  0.200484+0.075240j  0.000000+0.000000j
line_a05_a06  0.000000+0.000000j  0.100000+0.050000j  0.000000+0.000000j
.

=============================== warnings summary ===============================
tests/test_compare_opendss.py::test_fbs_sol
  /Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/opendssdirect/utils.py:71: UserWarning: Empty list (opendssdirect.Capacitors)
    warnings.warn("Empty list ({class_name})".format(class_name=class_name))

tests/test_compare_opendss.py::test_fbs_sol
  /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/powerflowpy/powerflowpy/solution.py:134: RuntimeWarning: divide by zero encountered in true_divide
    new_line_I = np.conj(np.divide(node_s, node_V)) # TODO: consider dividing manually only by phases on the node

tests/test_compare_opendss.py::test_fbs_sol
  /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/powerflowpy/powerflowpy/utils.py:189: RuntimeWarning: invalid value encountered in multiply
    masked = np.multiply(matrix, phase_matrix)

tests/test_compare_opendss.py::test_fbs_sol
  /Users/elainelaguerta/Dropbox/LBNL/LinDist3Flow/powerflowpy/powerflowpy/solution.py:185: RuntimeWarning: divide by zero encountered in true_divide
    node_I = np.conj(np.divide(node_sV,node_V))

-- Docs: https://docs.pytest.org/en/stable/warnings.html
======================== 1 passed, 4 warnings in 5.14s =========================
